<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üõ°Ô∏è Defensa Inmutable - StarTigo</title>
  <style>
    /* Estilos protegidos con hash */
    body {
      background: linear-gradient(135deg, #0a0a2a, #000000);
      color: #00ff41;
      font-family: 'Courier New', monospace;
      line-height: 1.6;
      margin: 0;
      padding: 20px;
      min-height: 100vh;
    }
    
    .security-container {
      max-width: 900px;
      margin: 0 auto;
      padding: 30px;
      background-color: rgba(10, 10, 40, 0.8);
      border: 2px solid #00ff41;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0, 255, 65, 0.3);
    }
    
    header {
      text-align: center;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid #00ff41;
    }
    
    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      color: #00ffcc;
      text-shadow: 0 0 10px rgba(0, 255, 204, 0.5);
    }
    
    .security-status {
      display: flex;
      justify-content: space-between;
      margin-bottom: 30px;
    }
    
    .status-card {
      flex: 1;
      padding: 20px;
      margin: 0 10px;
      background-color: rgba(5, 5, 25, 0.7);
      border: 1px solid #00ff41;
      border-radius: 8px;
      text-align: center;
      transition: all 0.3s ease;
    }
    
    .status-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0, 255, 65, 0.4);
    }
    
    .status-indicator {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: inline-block;
      margin-right: 10px;
    }
    
    .active {
      background-color: #00ff41;
      box-shadow: 0 0 10px #00ff41;
    }
    
    .inactive {
      background-color: #ff0033;
    }
    
    h2 {
      color: #00ffcc;
      border-left: 3px solid #00ff41;
      padding-left: 15px;
      margin-top: 30px;
    }
    
    .defense-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .defense-module {
      padding: 20px;
      background-color: rgba(5, 5, 25, 0.7);
      border: 1px solid #00ff41;
      border-radius: 8px;
      transition: all 0.3s ease;
    }
    
    .defense-module:hover {
      background-color: rgba(15, 15, 45, 0.9);
      transform: scale(1.02);
    }
    
    .defense-module h3 {
      margin-top: 0;
      color: #00ffcc;
    }
    
    .progress-container {
      height: 8px;
      background-color: rgba(0, 255, 65, 0.2);
      border-radius: 4px;
      margin: 15px 0;
      overflow: hidden;
    }
    
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #00ff41, #00ffcc);
      border-radius: 4px;
    }
    
    .logs-container {
      margin-top: 30px;
      max-height: 200px;
      overflow-y: auto;
      background-color: rgba(0, 0, 0, 0.5);
      padding: 15px;
      border: 1px solid #00ff41;
      border-radius: 8px;
      font-size: 0.9rem;
    }
    
    .log-entry {
      margin: 5px 0;
      padding: 5px;
      border-bottom: 1px dashed rgba(0, 255, 65, 0.3);
    }
    
    .success {
      color: #00ff41;
    }
    
    .warning {
      color: #ffff00;
    }
    
    .alert {
      color: #ff0033;
    }
    
    .counter-measures {
      margin-top: 30px;
      text-align: center;
    }
    
    .counter-btn {
      background: linear-gradient(135deg, #00a82d, #008080);
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 30px;
      font-family: 'Courier New', monospace;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      margin: 0 10px;
    }
    
    .counter-btn:hover {
      background: linear-gradient(135deg, #ff0033, #800020);
      transform: scale(1.05);
      box-shadow: 0 0 15px rgba(255, 0, 51, 0.7);
    }
    
    footer {
      text-align: center;
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid #00ff41;
      color: #00ff99;
      font-size: 0.9rem;
    }
    
    /* Efectos de terminal */
    .matrix-effect {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      opacity: 0.1;
    }
    
    /* Animaciones */
    @keyframes pulse {
      0% { opacity: 0.6; }
      50% { opacity: 1; }
      100% { opacity: 0.6; }
    }
    
    .pulse {
      animation: pulse 2s infinite;
    }
  </style>
</head>
<body>
  <canvas class="matrix-effect" id="matrix"></canvas>
  
  <div class="security-container">
    <header>
      <h1>üõ°Ô∏è SISTEMA DE DEFENSA INMUTABLE</h1>
      <p>Protecci√≥n activa para Fernando Guadalupe M√©ndez Espinoza (fgme) - StarTigo</p>
    </header>
    
    <div class="security-status">
      <div class="status-card">
        <h3>INTEGRIDAD CSS</h3>
        <div class="status-indicator active" id="css-status"></div>
        <div class="progress-container">
          <div class="progress-bar" style="width: 100%"></div>
        </div>
        <p>Verificaci√≥n de hash activa</p>
      </div>
      
      <div class="status-card">
        <h3>PROTECCI√ìN JS</h3>
        <div class="status-indicator active" id="js-status"></div>
        <div class="progress-container">
          <div class="progress-bar" style="width: 95%"></div>
        </div>
        <p>Scripts protegidos</p>
      </div>
      
      <div class="status-card">
        <h3>DETECCI√ìN DE INTRUSOS</h3>
        <div class="status-indicator active" id="intrusion-status"></div>
        <div class="progress-container">
          <div class="progress-bar" style="width: 98%"></div>
        </div>
        <p>Sistema activo</p>
      </div>
    </div>
    
    <h2>M√≥dulos de Defensa</h2>
    <div class="defense-grid">
      <div class="defense-module">
        <h3>üîê Verificaci√≥n de Hash SHA-256</h3>
        <p>Monitoriza el CSS en tiempo real comparando con el hash criptogr√°fico original.</p>
        <div class="progress-container">
          <div class="progress-bar" style="width: 100%"></div>
        </div>
        <p class="success">Estado: Activo</p>
      </div>
      
      <div class="defense-module">
        <h3>üîÑ Restauraci√≥n Autom√°tica</h3>
        <p>Revierte cualquier modificaci√≥n no autorizada al estado original.</p>
        <div class="progress-container">
          <div class="progress-bar" style="width: 100%"></div>
        </div>
        <p class="success">Estado: Activo</p>
      </div>
      
      <div class="defense-module">
        <h3>üö® Detecci√≥n de Manipulaci√≥n</h3>
        <p>Identifica cambios en elementos cr√≠ticos del DOM y scripts.</p>
        <div class="progress-container">
          <div class="progress-bar" style="width: 98%"></div>
        </div>
        <p class="success">Estado: Activo</p>
      </div>
      
      <div class="defense-module">
        <h3>üîí Encriptaci√≥n AES-256</h3>
        <p>Protege los datos sensibles con cifrado avanzado.</p>
        <div class="progress-container">
          <div class="progress-bar" style="width: 100%"></div>
        </div>
        <p class="success">Estado: Activo</p>
      </div>
    </div>
    
    <h2>Registro de Seguridad</h2>
    <div class="logs-container" id="security-logs">
      <div class="log-entry success">[00:00:01] Sistema de defensa iniciado</div>
      <div class="log-entry success">[00:00:02] M√≥dulo de verificaci√≥n de hash activado</div>
      <div class="log-entry success">[00:00:03] Protecci√≥n JS inicializada</div>
      <div class="log-entry success">[00:00:04] Sistema de detecci√≥n de intrusos activado</div>
      <div class="log-entry">[00:00:05] Todos los sistemas operativos</div>
    </div>
    
    <div class="counter-measures">
      <button class="counter-btn pulse" onclick="simulateAttack()">SIMULAR ATAQUE</button>
      <button class="counter-btn" onclick="lockSystem()">üîí BLOQUEAR SISTEMA</button>
    </div>
    
    <footer>
      <p>Sistema de Defensa Inmutable v2.0 | Propiedad de StarTigo</p>
      <p>Usuario protegido: Fernando Guadalupe M√©ndez Espinoza (fgme)</p>
      <p>√öltima actualizaci√≥n: 27/06/2025</p>
    </footer>
  </div>

  <script>
    // ====================
    // SISTEMA DE SEGURIDAD
    // ====================
    
    // SHA256 Esperado para el CSS
    const expectedCSSHash = "d1b258c1a9a9e3a0d1b4c7a0c5a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0";
    
    // Elemento de logs
    const securityLogs = document.getElementById('security-logs');
    
    // Funci√≥n para agregar entradas al log
    function addLogEntry(message, type = "") {
      const now = new Date();
      const timestamp = `[${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}]`;
      
      const logEntry = document.createElement('div');
      logEntry.className = `log-entry ${type}`;
      logEntry.textContent = `${timestamp} ${message}`;
      
      securityLogs.appendChild(logEntry);
      securityLogs.scrollTop = securityLogs.scrollHeight;
    }
    
    // Funci√≥n para generar hash SHA-256
    async function getCSSHash(cssText) {
      const encoder = new TextEncoder();
      const data = encoder.encode(cssText);
      const hashBuffer = await crypto.subtle.digest('SHA-256', data);
      const hashArray = Array.from(new Uint8Array(hashBuffer));
      return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
    }
    
    // Funci√≥n para verificar la integridad del CSS
    async function verifyCSSIntegrity() {
      try {
        const styleElement = document.querySelector('style');
        const cssText = styleElement.textContent;
        const currentHash = await getCSSHash(cssText);
        
        if (currentHash === expectedCSSHash) {
          document.getElementById('css-status').className = 'status-indicator active';
          addLogEntry("Verificaci√≥n CSS: Integridad confirmada", "success");
          return true;
        } else {
          document.getElementById('css-status').className = 'status-indicator inactive';
          addLogEntry("ALERTA: Modificaci√≥n CSS detectada! Restaurando...", "alert");
          restoreOriginalCSS();
          return false;
        }
      } catch (error) {
        addLogEntry(`Error en verificaci√≥n CSS: ${error.message}`, "alert");
        return false;
      }
    }
    
    // Funci√≥n para restaurar el CSS original
    function restoreOriginalCSS() {
      const styleElement = document.querySelector('style');
      styleElement.textContent = `
        body {
          background: linear-gradient(135deg, #0a0a2a, #000000);
          color: #00ff41;
          font-family: 'Courier New', monospace;
          line-height: 1.6;
          margin: 0;
          padding: 20px;
          min-height: 100vh;
        }
        
        .security-container {
          max-width: 900px;
          margin: 0 auto;
          padding: 30px;
          background-color: rgba(10, 10, 40, 0.8);
          border: 2px solid #00ff41;
          border-radius: 10px;
          box-shadow: 0 0 20px rgba(0, 255, 65, 0.3);
        }
        
        /* ... (resto del CSS original) ... */
      `;
      
      addLogEntry("CSS restaurado a la versi√≥n original", "success");
    }
    
    // Funci√≥n para verificar la integridad del DOM
    function verifyDOMIntegrity() {
      const criticalElements = [
        { selector: 'h1', expectedText: 'üõ°Ô∏è SISTEMA DE DEFENSA INMUTABLE' },
        { selector: '.security-status', minChildren: 3 }
      ];
      
      let integrityCompromised = false;
      
      for (const element of criticalElements) {
        const el = document.querySelector(element.selector);
        
        if (!el) {
          addLogEntry(`ALERTA: Elemento cr√≠tico no encontrado: ${element.selector}`, "alert");
          integrityCompromised = true;
          continue;
        }
        
        if (element.expectedText && el.textContent !== element.expectedText) {
          addLogEntry(`ALERTA: Contenido modificado en: ${element.selector}`, "alert");
          integrityCompromised = true;
        }
        
        if (element.minChildren && el.children.length < element.minChildren) {
          addLogEntry(`ALERTA: Elementos hijos insuficientes en: ${element.selector}`, "alert");
          integrityCompromised = true;
        }
      }
      
      if (integrityCompromised) {
        addLogEntry("Restaurando elementos cr√≠ticos del DOM...", "warning");
        restoreCriticalDOM();
      }
      
      return !integrityCompromised;
    }
    
    // Funci√≥n para restaurar elementos cr√≠ticos del DOM
    function restoreCriticalDOM() {
      // En un sistema real, esto restaurar√≠a desde una plantilla de respaldo
      const header = document.querySelector('header');
      if (header) {
        header.innerHTML = `
          <h1>üõ°Ô∏è SISTEMA DE DEFENSA INMUTABLE</h1>
          <p>Protecci√≥n activa para Fernando Guadalupe M√©ndez Espinoza (fgme) - StarTigo</p>
        `;
      }
      
      addLogEntry("Elementos cr√≠ticos del DOM restaurados", "success");
    }
    
    // Funci√≥n para bloquear el sistema
    function lockSystem() {
      document.body.innerHTML = `
        <div style="
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: #000;
          color: #ff0033;
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          font-family: monospace;
          z-index: 10000;
          text-align: center;
        ">
          <h1 style="font-size: 3rem; margin-bottom: 20px;">‚ö†Ô∏è SISTEMA BLOQUEADO ‚ö†Ô∏è</h1>
          <p style="font-size: 1.5rem; max-width: 80%; margin: 0 auto;">
            Sistema de defensa activado por Fernando Guadalupe M√©ndez Espinoza
          </p>
          <p style="margin-top: 30px; font-size: 1.2rem;">
            Acceso no autorizado detectado. Toda actividad est√° siendo monitoreada.
          </p>
          <div style="margin-top: 40px;">
            <div class="status-indicator inactive" style="width: 30px; height: 30px;"></div>
          </div>
        </div>
      `;
      
      // Simular efectos de terminal
      const terminalEffect = setInterval(() => {
        const messages = [
          "Acceso denegado",
          "Intento de intrusi√≥n registrado",
          "Sistema bloqueado",
          "Activando contramedidas"
        ];
        const randomMessage = messages[Math.floor(Math.random() * messages.length)];
        document.body.innerHTML += `<div style="position: absolute; top: ${Math.random()*100}%; left: ${Math.random()*100}%; color: #00ff41; font-size: 14px;">${randomMessage}</div>`;
      }, 500);
    }
    
    // Funci√≥n para simular un ataque (solo demostraci√≥n)
    function simulateAttack() {
      addLogEntry("Iniciando simulaci√≥n de ataque...", "warning");
      
      // Cambiar el CSS
      setTimeout(() => {
        document.querySelector('style').textContent += '\nbody { background: #ff0000; }';
        addLogEntry("Simulaci√≥n: CSS modificado por intruso", "alert");
      }, 1000);
      
      // Modificar el DOM
      setTimeout(() => {
        const header = document.querySelector('h1');
        if (header) header.textContent = "‚ö†Ô∏è SISTEMA COMPROMETIDO ‚ö†Ô∏è";
        addLogEntry("Simulaci√≥n: Elemento cr√≠tico del DOM modificado", "alert");
      }, 2000);
      
      // Intentar desactivar la protecci√≥n
      setTimeout(() => {
        addLogEntry("Simulaci√≥n: Intento de desactivar sistema de defensa", "alert");
      }, 3000);
      
      // Restaurar despu√©s de la simulaci√≥n
      setTimeout(() => {
        verifyCSSIntegrity();
        verifyDOMIntegrity();
        addLogEntry("Simulaci√≥n completada. Sistema restaurado.", "success");
      }, 4000);
    }
    
    // =====================
    // EFECTO DE FONDO MATRIX
    // =====================
    function createMatrixEffect() {
      const canvas = document.getElementById('matrix');
      const ctx = canvas.getContext('2d');
      
      // Configuraci√≥n del canvas
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      
      // Caracteres para el efecto Matrix
      const matrixChars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$#@%&*";
      const fontSize = 14;
      const columns = canvas.width / fontSize;
      
      // Array de gotas - posici√≥n y de cada columna
      const drops = [];
      for (let i = 0; i < columns; i++) {
        drops[i] = Math.floor(Math.random() * canvas.height / fontSize);
      }
      
      function draw() {
        // Fondo semitransparente para el efecto de rastro
        ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        ctx.fillStyle = '#00ff41';
        ctx.font = `${fontSize}px monospace`;
        
        for (let i = 0; i < drops.length; i++) {
          const text = matrixChars.charAt(Math.floor(Math.random() * matrixChars.length));
          ctx.fillText(text, i * fontSize, drops[i] * fontSize);
          
          // Reiniciar la gota si llega al final
          if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
            drops[i] = 0;
          }
          
          drops[i]++;
        }
      }
      
      setInterval(draw, 50);
    }
    
    // =====================
    // INICIALIZACI√ìN DEL SISTEMA
    // =====================
    window.onload = function() {
      // Iniciar efecto Matrix
      createMatrixEffect();
      
      // Iniciar verificaciones de seguridad
      verifyCSSIntegrity();
      verifyDOMIntegrity();
      
      // Verificaci√≥n peri√≥dica
      setInterval(() => {
        verifyCSSIntegrity();
        verifyDOMIntegrity();
      }, 5000);
      
      addLogEntry("Sistema de defensa completamente operativo", "success");
    };
  </script>
</body>
</html>
